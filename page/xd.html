<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generador de Estilos de Letras</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #0b1220;
      --accent: #06b6d4;
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.03);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#071024 0%, #071020 100%);
      color: #e6eef6;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }
    .card {
      width: 100%;
      max-width: 920px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 6px 30px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.03);
      display: grid;
      grid-template-columns: 1fr 420px;
      gap: 18px;
    }
    header {
      grid-column: 1 / -1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    h1 { margin:0; font-size:18px; letter-spacing:0.4px; }
    p.lead { margin:0; color:var(--muted); font-size:13px; }
    .controls {
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }
    input[type="text"], textarea, select {
      width:100%;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.04);
      background:var(--glass);
      color:inherit;
      outline:none;
      font-size:14px;
    }
    textarea { min-height:110px; resize:vertical; }
    .left, .right {
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    label { font-size:13px; color:var(--muted); }
    .row { display:flex; gap:10px; align-items:center; }
    button {
      background: linear-gradient(90deg, var(--accent), #8b5cf6);
      color:#041025;
      border:none;
      padding:10px 12px;
      border-radius:8px;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(6,182,212,0.12);
    }
    button.ghost {
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,0.04);
      box-shadow:none;
    }
    .meta {
      font-size:13px;
      color:var(--muted);
    }
    .preview {
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border-radius:10px;
      padding:14px;
      min-height:140px;
      display:flex;
      flex-direction:column;
      gap:10px;
      justify-content:center;
      align-items:flex-start;
      border:1px dashed rgba(255,255,255,0.03);
      overflow-wrap: anywhere;
    }
    .preview .big {
      font-size:26px;
      word-break:break-word;
    }
    .small-muted { font-size:12px; color:var(--muted); }
    footer { grid-column:1/-1; display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:6px; }
    @media (max-width:920px) {
      .card { grid-template-columns: 1fr; }
      .right { order: -1; }
    }
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="title">
    <header>
      <div>
        <h1 id="title">Generador de Estilos de Letras</h1>
        <p class="lead">Transforma texto con fuentes especiales â€” copia, aplica y guarda tu estilo preferido.</p>
      </div>
      <div class="controls">
        <div class="meta" id="countFonts">Fuentes disponibles: â€”</div>
        <button id="btnRandom" class="ghost" title="Generar ejemplo aleatorio">Ejemplo</button>
      </div>
    </header>

    <section class="left">
      <label for="inputText">Ingresa el texto</label>
      <textarea id="inputText" placeholder="Escribe aquÃ­...">Hola mundo</textarea>

      <div class="row">
        <div style="flex:1">
          <label for="styleSelect">Seleccionar fuente</label>
          <select id="styleSelect"></select>
        </div>
        <div style="width:120px">
          <label>&nbsp;</label>
          <button id="applyStyle">Aplicar estilo</button>
        </div>
      </div>

      <div class="row">
        <div style="flex:1">
          <label for="previewSample">PrevisualizaciÃ³n</label>
          <div class="preview" id="preview">
            <div class="big" id="previewText">Hola mundo</div>
            <div class="small-muted">Vista previa en tiempo real â€” cambia el texto o la fuente.</div>
          </div>
        </div>
      </div>
    </section>

    <aside class="right">
      <div>
        <label>Nombre del estilo seleccionado</label>
        <div style="padding:10px;border-radius:8px;background:var(--glass);border:1px solid rgba(255,255,255,0.02)" id="styleName">â€”</div>
      </div>

      <div>
        <label>Acciones</label>
        <div style="display:flex;gap:10px;margin-top:8px">
          <button id="btnCopy">Copiar</button>
          <button id="btnClear" class="ghost">Limpiar</button>
        </div>
      </div>

      <div>
        <label>Ejemplo predefinido</label>
        <div style="padding:10px;border-radius:8px;background:var(--glass);border:1px solid rgba(255,255,255,0.02)">
          <div id="exampleGenerated">â€”</div>
        </div>
      </div>

      <div style="margin-top:8px">
        <label>Estilos disponibles (nÃºmero)</label>
        <div class="meta" id="fontsList" style="max-height:160px; overflow:auto; padding-top:8px"></div>
      </div>
    </aside>

    <footer>
      <div class="small-muted">DiseÃ±ado para tu bot â€” basada en mapping de `yStr` / `xStr`.</div>
      <div class="small-muted">Guardado local de estilo: <span id="savedStyle">â€”</span></div>
    </footer>
  </main>

  <script>
    // === Copia exacta de tus arrays y funciÃ³n style (ajustada para navegador) ===
    window.global = window.global || {};
    global.currentFontStyle = 1;

    const xStr = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9','0'];

    const yStr = Object.freeze({
      1: ['á¥²','á‘²','á¥´','áƒ«','á¥±','ð–¿','g','Ò»','Ñ–','È·','k','á¥£','m','á¥’','á¥†','â´','ð—Š','r','s','ð—','á¥™','á¥Ž','á¥•','á¥Š','á¥¡','z','1','2','3','4','5','6','7','8','9','0'],
      2: ['á—©','á—·','á‘•','á—ª','á—´','á–´','á˜œ','á•¼','I','á’','K','á’ª','á—°','á‘Ž','O','á‘­','á‘«','á–‡','Õ','T','á‘Œ','á¯','á—¯','á™­','Y','á˜”','1','2','3','4','5','6','7','8','9','0'],
      3: ['ð—®','ð—¯','ð—°','ð—±','ð—²','ð—³','ð—´','ð—µ','ð—¶','ð—·','ð—¸','ð—¹','ð—º','ð—»','ð—¼','ð—½','ð—¾','ð—¿','ð˜€','ð˜','ð˜‚','ð˜ƒ','ð˜„','ð˜…','ð˜†','ð˜‡','ðŸ­','ðŸ®','ðŸ¯','ðŸ°','ðŸ±','ðŸ²','ðŸ³','ðŸ´','ðŸµ','ðŸ¬'],
      4: ['á´€','Ê™','á´„','á´…','á´‡','êœ°','É¢','Êœ','Éª','á´Š','á´‹','ÊŸ','á´','É´','á´','á´˜','q','Ê€','êœ±','á´›','á´œ','á´ ','á´¡','x','Ê','á´¢','1','2','3','4','5','6','7','8','9','0'],
      5: ['ð‘Ž','ð‘','ð‘','ð‘‘','ð‘’','ð‘“','ð‘”','â„Ž','ð‘–','ð‘—','ð‘˜','ð‘™','ð‘š','ð‘›','ð‘œ','ð‘','ð‘ž','ð‘Ÿ','ð‘ ','ð‘¡','ð‘¢','ð‘£','ð‘¤','ð‘¥','ð‘¦','ð‘§','1','2','3','4','5','6','7','8','9','0'],
      6: ['ðš','ð›','ðœ','ð','ðž','ðŸ','ð ','ð¡','ð¢','ð£','ð¤','ð¥','ð¦','ð§','ð¨','ð©','ðª','ð«','ð¬','ð­','ð®','ð¯','ð°','ð±','ð²','ð³','ðŸ','ðŸ','ðŸ‘','ðŸ’','ðŸ“','ðŸ”','ðŸ•','ðŸ–','ðŸ—','ðŸŽ'],
      7: ['ð’‚','ð’ƒ','ð’„','ð’…','ð’†','ð’‡','ð’ˆ','ð’‰','ð’Š','ð’‹','ð’Œ','ð’','ð’Ž','ð’','ð’','ð’‘','ð’’','ð’“','ð’”','ð’•','ð’–','ð’—','ð’˜','ð’™','ð’š','ð’›','1','2','3','4','5','6','7','8','9','0'],
      8: ['ð™–','ð™—','ð™˜','ð™™','ð™š','ð™›','ð™œ','ð™','ð™ž','ð™Ÿ','ð™ ','ð™¡','ð™¢','ð™£','ð™¤','ð™¥','ð™¦','ð™§','ð™¨','ð™©','ð™ª','ð™«','ð™¬','ð™­','ð™®','ð™¯','1','2','3','4','5','6','7','8','9','0'],
      9: ['ðšŠ','ðš‹','ðšŒ','ðš','ðšŽ','ðš','ðš','ðš‘','ðš’','ðš“','ðš”','ðš•','ðš–','ðš—','ðš˜','ðš™','ðšš','ðš›','ðšœ','ðš','ðšž','ðšŸ','ðš ','ðš¡','ðš¢','ðš£','ðŸ·','ðŸ¸','ðŸ¹','ðŸº','ðŸ»','ðŸ¼','ðŸ½','ðŸ¾','ðŸ¿','ðŸ¶'],
      10: ['ð˜¢','ð˜£','ð˜¤','ð˜¥','ð˜¦','ð˜§','ð˜¨','ð˜©','ð˜ª','ð˜«','ð˜¬','ð˜­','ð˜®','ð˜¯','ð˜°','ð˜±','ð˜²','ð˜³','ð˜´','ð˜µ','ð˜¶','ð˜·','ð˜¸','ð˜¹','ð˜º','ð˜»','1','2','3','4','5','6','7','8','9','0'],
      11: ['ð–º','ð–»','ð–¼','ð–½','ð–¾','ð–¿','ð—€','ð—','ð—‚','ð—ƒ','ð—„','ð—…','ð—†','ð—‡','ð—ˆ','ð—‰','ð—Š','ð—‹','ð—Œ','ð—','ð—Ž','ð—','ð—','ð—‘','ð—’','ð—“','1','2','3','4','5','6','7','8','9','0'],
      12: ['ï½','ï½‚','ï½ƒ','ï½„','ï½…','ï½†','ï½‡','ï½ˆ','ï½‰','ï½Š','ï½‹','ï½Œ','ï½','ï½Ž','ï½','ï½','ï½‘','ï½’','ï½“','ï½”','ï½•','ï½–','ï½—','ï½˜','ï½™','ï½š','ï¼‘','ï¼’','ï¼“','ï¼”','ï¼•','ï¼–','ï¼—','ï¼˜','ï¼™','ï¼'],
      13: ['áµƒ','áµ‡','á¶œ','áµˆ','áµ‰','á¶ ','áµ','Ê°','â±','Ê²','áµ','Ë¡','áµ','â¿','áµ’','áµ–','áµ ','Ê³','Ë¢','áµ—','áµ˜','áµ›','Ê·','Ë£','Ê¸','á¶»','Â¹','Â²','Â³','â´','âµ','â¶','â·','â¸','â¹','â°'],
      14: ['ð–†','ð–‡','ð–ˆ','ð–‰','ð–Š','ð–‹','ð–Œ','ð–','ð–Ž','ð–','ð–','ð–‘','ð–’','ð–“','ð–”','ð–•','ð––','ð–—','ð–˜','ð–™','ð–š','ð–›','ð–œ','ð–','ð–ž','ð–Ÿ','1','2','3','4','5','6','7','8','9','0'],
      15: ['â’¶','â’·','â’¸','â’¹','â’º','â’»','â’¼','â’½','â’¾','â’¿','â“€','â“','â“‚','â“ƒ','â“„','â“…','â“†','â“‡','â“ˆ','â“‰','â“Š','â“‹','â“Œ','â“','â“Ž','â“','â‘ ','â‘¡','â‘¢','â‘£','â‘¤','â‘¥','â‘¦','â‘§','â‘¨','â“ª'],
      16: ['ðŸ…','ðŸ…‘','ðŸ…’','ðŸ…“','ðŸ…”','ðŸ…•','ðŸ…–','ðŸ…—','ðŸ…˜','ðŸ…™','ðŸ…š','ðŸ…›','ðŸ…œ','ðŸ…','ðŸ…ž','ðŸ…Ÿ','ðŸ… ','ðŸ…¡','ðŸ…¢','ðŸ…£','ðŸ…¤','ðŸ…¥','ðŸ…¦','ðŸ…§','ðŸ…¨','ðŸ…©','1','2','3','4','5','6','7','8','9','0'],
      17: ['ð“ª','ð“«','ð“¬','ð“­','ð“®','ð“¯','ð“°','ð“±','ð“²','ð“³','ð“´','ð“µ','ð“¶','ð“·','ð“¸','ð“¹','ð“º','ð“»','ð“¼','ð“½','ð“¾','ð“¿','ð”€','ð”','ð”‚','ð”ƒ','1','2','3','4','5','6','7','8','9','0'],
      18: ['â“','â“‘','â“’','â““','â“”','â“•','â“–','â“—','â“˜','â“™','â“š','â“›','â“œ','â“','â“ž','â“Ÿ','â“ ','â“¡','â“¢','â“£','â“¤','â“¥','â“¦','â“§','â“¨','â“©','â‘ ','â‘¡','â‘¢','â‘£','â‘¤','â‘¥','â‘¦','â‘§','â‘¨','â“ª'],
      19: ['ðŸ„°','ðŸ„±','ðŸ„²','ðŸ„³','ðŸ„´','ðŸ„µ','ðŸ„¶','ðŸ„·','ðŸ„¸','ðŸ„¹','ðŸ„º','ðŸ„»','ðŸ„¼','ðŸ„½','ðŸ„¾','ðŸ„¿','ðŸ…€','ðŸ…','ðŸ…‚','ðŸ…ƒ','ðŸ…„','ðŸ……','ðŸ…†','ðŸ…‡','ðŸ…ˆ','ðŸ…‰','â‘ ','â‘¡','â‘¢','â‘£','â‘¤','â‘¥','â‘¦','â‘§','â‘¨','â“ª'],
      20: ['ð•’','ð•“','ð•”','ð••','ð•–','ð•—','ð•˜','ð•™','ð•š','ð•›','ð•œ','ð•','ð•ž','ð•Ÿ','ð• ','ð•¡','ð•¢','ð•£','ð•¤','ð•¥','ð•¦','ð•§','ð•¨','ð•©','ð•ª','ð•«','ðŸ™','ðŸš','ðŸ›','ðŸœ','ðŸ','ðŸž','ðŸŸ','ðŸ ','ðŸ¡','ðŸ˜'],
      21: ['ã€aã€‘','ã€bã€‘','ã€cã€‘','ã€dã€‘','ã€eã€‘','ã€fã€‘','ã€gã€‘','ã€hã€‘','ã€iã€‘','ã€jã€‘','ã€kã€‘','ã€lã€‘','ã€mã€‘','ã€nã€‘','ã€oã€‘','ã€pã€‘','ã€qã€‘','ã€rã€‘','ã€sã€‘','ã€tã€‘','ã€uã€‘','ã€vã€‘','ã€wã€‘','ã€xã€‘','ã€yã€‘','ã€z','ã€1ã€‘','ã€2ã€‘','ã€3ã€‘','ã€4ã€‘','ã€5ã€‘','ã€6ã€‘','ã€7ã€‘','ã€8ã€‘','ã€9ã€‘','ã€0ã€‘']
    });

    // Nota: en tu objeto original algunas entradas parecÃ­an tener comillas o comas faltantes.
    // AsegÃºrate de revisar y ajustar si detectas que un estilo no aparece correctamente.
    // styleNames:
    const styleNames = {
      1: 'Soft Cursive', 2: 'Fancy Serif Uppercase', 3: 'Bold Sans Serif',
      4: 'Small Caps Sans', 5: 'Italic Math Serif', 6: 'Bold Math Serif',
      7: 'Calligraphic Italic', 8: 'Bold Monospace Sans', 9: 'Monospace Regular',
      10: 'Sans Italic Math', 11: 'Sans Regular Math', 12: 'Fullwidth',
      13: 'Superscript Latin', 14: 'Bold Gothic', 15: 'Circled Latin Uppercase',
      16: 'Boxed Latin Uppercase', 17: 'Cursive Calligraphy', 18: 'Circled Latin Lowercase',
      19: 'Blocky Uppercase Mono', 20: 'Fraktur Gothic', 21: 'Brackets Font'
    };

    // FunciÃ³n que transforma el texto segÃºn style
    async function styleTransform(text, style = global.currentFontStyle) {
      const replacer = [];
      xStr.map((v, i) => replacer.push({
        original: v,
        convert: (yStr[style] && yStr[style][i]) ? yStr[style][i] : v
      }));
      return text.toLowerCase().split("").map(ch => {
        const r = replacer.find(x => x.original === ch);
        return r ? r.convert : ch;
      }).join("");
    }

    // --- UI wiring ---
    const inputText = document.getElementById('inputText');
    const previewText = document.getElementById('previewText');
    const styleSelect = document.getElementById('styleSelect');
    const styleName = document.getElementById('styleName');
    const btnCopy = document.getElementById('btnCopy');
    const btnClear = document.getElementById('btnClear');
    const applyStyle = document.getElementById('applyStyle');
    const countFonts = document.getElementById('countFonts');
    const fontsList = document.getElementById('fontsList');
    const exampleGenerated = document.getElementById('exampleGenerated');
    const savedStyle = document.getElementById('savedStyle');
    const btnRandom = document.getElementById('btnRandom');

    // Populate select and meta
    function populateStyles() {
      styleSelect.innerHTML = '';
      const keys = Object.keys(yStr).filter(k => Array.isArray(yStr[k]));
      keys.sort((a,b) => Number(a)-Number(b));
      keys.forEach(k => {
        const opt = document.createElement('option');
        opt.value = k;
        opt.textContent = `${k} â€” ${styleNames[k] || 'Estilo ' + k}`;
        styleSelect.appendChild(opt);

        // list entry
        const div = document.createElement('div');
        div.style.padding = '6px 0';
        div.textContent = `${k}: ${styleNames[k] || 'Estilo ' + k}`;
        fontsList.appendChild(div);
      });
      countFonts.textContent = 'Fuentes disponibles: ' + keys.length;
    }

    populateStyles();

    // load saved style if exists
    const stored = localStorage.getItem('preferredFontStyle');
    if (stored && yStr[stored]) {
      global.currentFontStyle = Number(stored);
      styleSelect.value = stored;
      savedStyle.textContent = `#${stored} ${styleNames[stored] || ''}`;
    } else {
      savedStyle.textContent = 'ninguno';
    }

    async function updatePreview() {
      const txt = inputText.value || '';
      const s = Number(styleSelect.value) || global.currentFontStyle;
      const transformed = await styleTransform(txt, s);
      previewText.textContent = transformed;
      styleName.textContent = `#${s} â€” ${styleNames[s] || ''}`;
      exampleGenerated.textContent = await styleTransform('Hola mundo', s);
    }

    // events
    inputText.addEventListener('input', updatePreview);
    styleSelect.addEventListener('change', updatePreview);

    btnCopy.addEventListener('click', async () => {
      const textToCopy = previewText.textContent || '';
      try {
        await navigator.clipboard.writeText(textToCopy);
        btnCopy.textContent = 'Copiado âœ“';
        setTimeout(() => btnCopy.textContent = 'Copiar', 1200);
      } catch (e) {
        // fallback
        const ta = document.createElement('textarea');
        ta.value = textToCopy;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        ta.remove();
        btnCopy.textContent = 'Copiado âœ“';
        setTimeout(() => btnCopy.textContent = 'Copiar', 1200);
      }
    });

    btnClear.addEventListener('click', () => {
      inputText.value = '';
      updatePreview();
    });

    applyStyle.addEventListener('click', () => {
      const s = Number(styleSelect.value);
      if (!yStr[s]) {
        alert('Estilo no vÃ¡lido.');
        return;
      }
      global.currentFontStyle = s;
      localStorage.setItem('preferredFontStyle', String(s));
      savedStyle.textContent = `#${s} ${styleNames[s] || ''}`;
      applyStyle.textContent = 'Aplicado âœ”ï¸';
      setTimeout(() => applyStyle.textContent = 'Aplicar estilo', 900);
    });

    // Random example button (genera ejemplo divertido)
    btnRandom.addEventListener('click', async () => {
      const samples = [
        'Â¡Feliz dÃ­a!', 'Black Clover', 'Bienvenido', 'Prueba 123', 'Hello Bot',
        'Comando .letra', 'Texto de ejemplo', 'Transformar letras'
      ];
      const pick = samples[Math.floor(Math.random() * samples.length)];
      inputText.value = pick;
      updatePreview();
    });

    // initialize preview on load
    updatePreview();

    // Accessibility: allow Ctrl/Cmd+Enter to copy
    document.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        btnCopy.click();
      }
    });

    // NOTE: si detectas que algÃºn estilo no se ve correcto,
    // revisa la definiciÃ³n en yStr (posibles comillas faltantes o caracteres mal formados).
  </script>
</body>
</html>